<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>115年台語羅馬字研習營 | 報名表</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        morandi: {
                            base: '#F4F2F0',      // 燕麥白底色
                            text: '#5B5B5B',      // 深灰字體
                            primary: '#7A8B99',   // 霧霾藍 (主色)
                            secondary: '#A89B93', // 暖灰 (次要)
                            accent: '#C7B8B4',    // 藕粉 (點綴)
                            green: '#9FB3A6',     // 鼠尾草綠 (強調)
                            border: '#D9D4CF'     // 邊框色
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        serif: ['"Playfair Display"', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F4F2F0;
            color: #5B5B5B;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        .form-radio:checked + div {
            border-color: #7A8B99;
            background-color: #F0F4F6;
            color: #7A8B99;
            font-weight: 500;
        }
        .form-checkbox:checked {
            color: #9FB3A6;
        }
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        /* Toast Notification Animation */
        @keyframes slideInUp {
            from {
                transform: translate(-50%, 100%);
                opacity: 0;
            }
            to {
                transform: translate(-50%, 0);
                opacity: 1;
            }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .toast-enter {
            animation: slideInUp 0.3s ease-out forwards;
        }
        .toast-exit {
            animation: fadeOut 0.3s ease-in forwards;
        }
    </style>
</head>
<body class="font-sans antialiased leading-relaxed">

    <!-- Hero Section -->
    <header class="relative bg-gradient-to-b from-[#E6E2DE] to-[#F4F2F0] pt-16 pb-24 px-4 sm:px-6 lg:px-8 overflow-hidden">
        <div class="absolute top-0 left-0 w-64 h-64 bg-[#9FB3A6] opacity-10 rounded-full -translate-x-1/2 -translate-y-1/2 filter blur-3xl"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-[#7A8B99] opacity-10 rounded-full translate-x-1/3 translate-y-1/3 filter blur-3xl"></div>

        <div class="max-w-4xl mx-auto text-center relative z-10">
            <span class="inline-block py-1 px-3 rounded-full bg-white text-morandi-primary text-sm font-medium tracking-wide mb-4 shadow-sm border border-morandi-border">
                院內同仁專屬
            </span>
            <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-gray-800 mb-6 font-serif">
                115年台語羅馬字研習營
            </h1>
            <p class="text-base md:text-lg text-morandi-primary font-bold tracking-wide mb-4">
                註：完成兩天課程並通過測驗者，可獲得台語羅馬字初級認證。
            </p>
            <p class="text-lg md:text-xl text-morandi-text max-w-2xl mx-auto mb-8">
                精進台語力，提升醫療服務品質。<br>
                掌握白話字拼字規則，連結在地文化。
            </p>
            
            <div class="flex flex-wrap justify-center gap-4 text-sm md:text-base font-medium text-gray-600">
                <div class="flex items-center bg-white px-4 py-2 rounded-lg shadow-sm border border-morandi-border">
                    <i class="far fa-calendar-alt text-morandi-primary mr-2"></i>
                    115年 1/10 (六) & 1/17 (六)
                </div>
                <div class="flex items-center bg-white px-4 py-2 rounded-lg shadow-sm border border-morandi-border">
                    <i class="far fa-clock text-morandi-primary mr-2"></i>
                    08:00 - 12:00 (共8小時)
                </div>
                <div class="flex items-center bg-white px-4 py-2 rounded-lg shadow-sm border border-morandi-border">
                    <i class="fas fa-map-marker-alt text-morandi-primary mr-2"></i>
                    552 會議室
                </div>
            </div>
            
            <div class="mt-10">
                <a href="#registration-form" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-morandi-primary hover:bg-[#687985] transition duration-300 shadow-md hover:shadow-lg">
                    立即報名
                    <i class="fas fa-arrow-down ml-2"></i>
                </a>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 -mt-12 relative z-20 pb-20">
        
        <!-- Info Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
            <!-- Session 1 -->
            <div class="glass-card rounded-xl p-6 hover:shadow-md transition duration-300 border-l-4 border-l-morandi-primary">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800">第一場：基礎拼字</h3>
                        <p class="text-morandi-primary font-medium">115/1/10 (六)</p>
                    </div>
                    <span class="bg-morandi-base text-gray-500 text-xs px-2 py-1 rounded">08:00-12:00</span>
                </div>
                <ul class="space-y-2 text-sm text-gray-600 mb-6">
                    <li class="flex items-start"><i class="fas fa-check text-morandi-green mt-1 mr-2"></i><span>主題：母音/子音/聲調與拚字規則</span></li>
                    <li class="flex items-start"><i class="fas fa-user-tie text-morandi-secondary mt-1 mr-2"></i><span>講師：陳金花 (成大台文系兼任助理教授)</span></li>
                </ul>
                <button onclick="addToCalendar('20260110T080000', '20260110T120000', '台語羅馬字研習營-第一場', '552會議室', '母音/子音/聲調與拚字規則')" 
                    class="w-full py-2 px-4 border border-morandi-primary text-morandi-primary rounded hover:bg-morandi-primary hover:text-white transition flex items-center justify-center gap-2 text-sm group">
                    <i class="far fa-calendar-plus group-hover:scale-110 transition-transform"></i>
                    加入 Google 行事曆
                </button>
            </div>

            <!-- Session 2 -->
            <div class="glass-card rounded-xl p-6 hover:shadow-md transition duration-300 border-l-4 border-l-morandi-green">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-xl font-bold text-gray-800">第二場：進階與實作</h3>
                        <p class="text-morandi-green font-medium">115/1/17 (六)</p>
                    </div>
                    <span class="bg-morandi-base text-gray-500 text-xs px-2 py-1 rounded">08:00-12:00</span>
                </div>
                <ul class="space-y-2 text-sm text-gray-600 mb-6">
                    <li class="flex items-start"><i class="fas fa-check text-morandi-green mt-1 mr-2"></i><span>主題：白話字簡史 / 拼字練習 / 成果檢測</span></li>
                    <li class="flex items-start"><i class="fas fa-user-tie text-morandi-secondary mt-1 mr-2"></i><span>講師：蔣為文 (成大台文系教授)</span></li>
                </ul>
                <button onclick="addToCalendar('20260117T080000', '20260117T120000', '台語羅馬字研習營-第二場', '552會議室', '白話字簡史／拼字練習／成果檢測／Q&A')"
                    class="w-full py-2 px-4 border border-morandi-green text-[#7A9985] rounded hover:bg-morandi-green hover:text-white transition flex items-center justify-center gap-2 text-sm group">
                    <i class="far fa-calendar-plus group-hover:scale-110 transition-transform"></i>
                    加入 Google 行事曆
                </button>
            </div>
        </div>

        <!-- Registration Form -->
        <div id="registration-form" class="glass-card rounded-2xl p-8 md:p-10 shadow-lg relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-morandi-primary via-morandi-accent to-morandi-green"></div>
            
            <div class="mb-8 border-b border-morandi-border pb-4">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
                    <span class="flex items-center justify-center w-8 h-8 rounded-full bg-morandi-primary text-white text-sm"><i class="fas fa-pen-nib"></i></span>
                    線上報名
                </h2>
                <p class="text-sm text-gray-500 mt-2 ml-11">請詳細填寫以下資料，標記 <span class="text-red-400">*</span> 為必填項目。</p>
            </div>

            <form id="signupForm" class="space-y-8">
                <!-- Section 1: Basic Info -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Name -->
                    <div class="col-span-1">
                        <label class="block text-sm font-medium text-gray-700 mb-1">姓名 <span class="text-red-400">*</span></label>
                        <input type="text" name="name" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                    </div>
                    <!-- Age -->
                    <div class="col-span-1">
                        <label class="block text-sm font-medium text-gray-700 mb-1">年齡 <span class="text-red-400">*</span></label>
                        <input type="number" name="age" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                    </div>
                    <!-- Gender -->
                    <div class="col-span-1 md:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">性別 <span class="text-red-400">*</span></label>
                        <div class="flex flex-wrap gap-4">
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="male" class="form-radio hidden">
                                <div class="px-4 py-2 rounded-md border border-gray-300 text-sm hover:bg-gray-50 transition">男性</div>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="female" class="form-radio hidden">
                                <div class="px-4 py-2 rounded-md border border-gray-300 text-sm hover:bg-gray-50 transition">女性</div>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="other" class="form-radio hidden">
                                <div class="px-4 py-2 rounded-md border border-gray-300 text-sm hover:bg-gray-50 transition">其他</div>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="radio" name="gender" value="hidden" class="form-radio hidden">
                                <div class="px-4 py-2 rounded-md border border-gray-300 text-sm hover:bg-gray-50 transition">不便透露</div>
                            </label>
                        </div>
                    </div>

                    <!-- ID & Unit -->
                    <div class="col-span-1">
                        <label class="block text-sm font-medium text-gray-700 mb-1">人事號 <span class="text-red-400">*</span> <span class="text-xs text-gray-400">(如: A12345)</span></label>
                        <input type="text" name="personnelId" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                    </div>
                    <div class="col-span-1">
                        <label class="block text-sm font-medium text-gray-700 mb-1">單位／科別 <span class="text-red-400">*</span></label>
                        <input type="text" name="unit" placeholder="例：內科部 加護病房" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                    </div>

                    <!-- Contact -->
                    <div class="col-span-1 md:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email <span class="text-red-400">*</span></label>
                        <input type="email" name="email" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                    </div>
                    <div class="col-span-1">
                        <label class="block text-sm font-medium text-gray-700 mb-1">分機</label>
                        <input type="tel" name="extension" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                    </div>
                    <div class="col-span-1">
                        <label class="block text-sm font-medium text-gray-700 mb-1">手機</label>
                        <input type="tel" name="phone" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary focus:border-transparent outline-none bg-white/50 transition">
                        <p class="text-xs text-gray-500 mt-1">*分機與手機擇一必填</p>
                    </div>

                    <!-- Job Title -->
                    <div class="col-span-1 md:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">職稱 <span class="text-red-400">*</span></label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <label class="cursor-pointer">
                                <input type="radio" name="job" value="doctor" class="form-radio hidden">
                                <div class="text-center py-2 border border-gray-300 rounded-md hover:border-morandi-primary hover:text-morandi-primary transition text-sm">醫師</div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="job" value="nurse" class="form-radio hidden">
                                <div class="text-center py-2 border border-gray-300 rounded-md hover:border-morandi-primary hover:text-morandi-primary transition text-sm">護理師</div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="job" value="tech" class="form-radio hidden">
                                <div class="text-center py-2 border border-gray-300 rounded-md hover:border-morandi-primary hover:text-morandi-primary transition text-sm">醫技人員</div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="job" value="admin" class="form-radio hidden">
                                <div class="text-center py-2 border border-gray-300 rounded-md hover:border-morandi-primary hover:text-morandi-primary transition text-sm">行政人員</div>
                            </label>
                        </div>
                        <input type="text" name="job_other" placeholder="其他職稱" class="mt-2 w-full px-4 py-2 rounded-lg border border-gray-300 text-sm focus:ring-2 focus:ring-morandi-primary outline-none bg-white/50">
                    </div>
                </div>

                <hr class="border-morandi-border">

                <!-- Section 2: Course & Proficiency -->
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <i class="fas fa-clipboard-check text-morandi-green"></i> 二、課程與程度確認
                    </h3>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-3">課程出席確認 (請單選，必填) <span class="text-red-400">*</span></label>
                        <div class="space-y-3">
                            <label class="flex items-start cursor-pointer group">
                                <input type="radio" name="attendance" value="both" required class="mt-1 form-radio text-morandi-primary focus:ring-morandi-primary">
                                <span class="ml-3 text-sm text-gray-600 group-hover:text-gray-900">
                                    我確認 1/10 (六) 及 1/17 (六) 兩場課程皆可全程參加 (共 8 小時)。
                                    <span class="block text-xs text-morandi-primary mt-1 font-bold">註明：完成兩天課程並通過測驗者，可獲得台語羅馬字初級認證。</span>
                                </span>
                            </label>
                            <label class="flex items-center cursor-pointer group">
                                <input type="radio" name="attendance" value="session1" required class="form-radio text-morandi-primary focus:ring-morandi-primary">
                                <span class="ml-3 text-sm text-gray-600 group-hover:text-gray-900">我想參加 1/10 (六) 課程 (共 4 小時)</span>
                            </label>
                            <label class="flex items-center cursor-pointer group">
                                <input type="radio" name="attendance" value="session2" required class="form-radio text-morandi-primary focus:ring-morandi-primary">
                                <span class="ml-3 text-sm text-gray-600 group-hover:text-gray-900">我想參加 1/17 (六) 課程 (共 4 小時)</span>
                            </label>
                        </div>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-3">台語程度 (供講師參考) <span class="text-red-400">*</span></label>
                        <select name="proficiency" required class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-morandi-primary outline-none bg-white/50 transition">
                            <option value="" disabled selected>請選擇您的程度</option>
                            <option value="1">完全初學者（從零開始）</option>
                            <option value="2">聽懂但不太會講</option>
                            <option value="3">會講但不太會寫（不熟悉羅馬字）</option>
                            <option value="4">會講也會寫（有羅馬字基礎）</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-3">參加動機 (可複選) <span class="text-red-400">*</span></label>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" name="motivation" value="口語" class="form-checkbox rounded text-morandi-green focus:ring-morandi-green border-gray-300">
                                <span class="ml-2 text-sm text-gray-600">提升台語口語能力</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" name="motivation" value="書寫" class="form-checkbox rounded text-morandi-green focus:ring-morandi-green border-gray-300">
                                <span class="ml-2 text-sm text-gray-600">學習台語書寫（羅馬字）</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" name="motivation" value="服務" class="form-checkbox rounded text-morandi-green focus:ring-morandi-green border-gray-300">
                                <span class="ml-2 text-sm text-gray-600">提升對台語病患的服務品質</span>
                            </label>
                            <label class="flex items-center cursor-pointer">
                                <input type="checkbox" name="motivation" value="文化" class="form-checkbox rounded text-morandi-green focus:ring-morandi-green border-gray-300">
                                <span class="ml-2 text-sm text-gray-600">認識更多台語文化</span>
                            </label>
                        </div>
                        <input type="text" name="motivation_other" placeholder="其他動機..." class="mt-3 w-full px-4 py-2 rounded-lg border border-gray-300 text-sm bg-white/50">
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="pt-6">
                    <button type="submit" class="w-full bg-morandi-primary hover:bg-[#687985] text-white font-bold py-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition duration-300 text-lg flex items-center justify-center gap-2">
                        <span>提交報名表</span>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                    <p class="text-center text-xs text-gray-400 mt-4">提交後將收到確認信件，請留意您的 Email 信箱。</p>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-[#EAE6E1] border-t border-morandi-border mt-12 py-12">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <h4 class="font-bold text-gray-700 mb-2">主辦單位：教學部</h4>
            <div class="flex flex-col md:flex-row justify-center items-center gap-2 md:gap-8 text-sm text-gray-500">
                <p><i class="fas fa-user mr-2"></i>聯絡人：林淑雅</p>
                <p><i class="fas fa-phone mr-2"></i>分機 57438</p>
                <p><i class="fas fa-envelope mr-2"></i>mh90022@mail.chimei.org.tw</p>
            </div>
            <div class="mt-8 text-xs text-gray-400">
                &copy; 115 Chimei Medical Center. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Toast Notification Element -->
    <div id="toast" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-[#5B5B5B] text-white px-6 py-3 rounded-full shadow-lg opacity-0 pointer-events-none transition-all duration-300 z-50 flex items-center gap-2">
        <i class="fas fa-check-circle text-morandi-green"></i>
        <span>感謝您的報名！我們已收到您的資訊。</span>
    </div>

    <div id="toast-error" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-full shadow-lg opacity-0 pointer-events-none transition-all duration-300 z-50 flex items-center gap-2">
        <i class="fas fa-exclamation-circle"></i>
        <span>報名失敗，請稍後再試或聯繫主辦單位。</span>
    </div>

    <!-- Scripts -->
    <script>
        // Google Calendar Logic
        function addToCalendar(start, end, title, location, details) {
            // ROC 115 is AD 2026.
            const baseUrl = "https://www.google.com/calendar/render?action=TEMPLATE";
            const url = `${baseUrl}&text=${encodeURIComponent(title)}&dates=${start}/${end}&details=${encodeURIComponent(details)}&location=${encodeURIComponent(location)}&ctz=Asia/Taipei`;
            
            window.open(url, '_blank');
        }

        // Show Toast Function
        function showToast(id = 'toast') {
            const toast = document.getElementById(id);
            toast.classList.remove('opacity-0', 'translate-y-4'); // Show
            toast.classList.add('toast-enter');
            
            setTimeout(() => {
                toast.classList.remove('toast-enter');
                toast.classList.add('toast-exit');
                setTimeout(() => {
                    toast.classList.add('opacity-0');
                    toast.classList.remove('toast-exit');
                }, 300);
            }, 3000);
        }

        // Form Submit Logic
        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const btn = this.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;
            const form = this;

            // ⚠️ 已經填入您提供的 Google Apps Script 網頁應用程式網址
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzrwZKu8IQ01myO7UZPtdHMInopGnNRgQRVVvUZ6NTTZT_cIzzx1c3vgEVFVsGds2WV/exec'; 

            if (scriptURL === '您的_GOOGLE_SCRIPT_網址_貼在這裡' || scriptURL === '') {
                alert('請先設定 Google Apps Script 網址！');
                return;
            }
            
            // Loading State
            btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> 處理中...';
            btn.classList.add('opacity-75', 'cursor-not-allowed');
            btn.disabled = true;
            
            // 使用 Fetch API 送出資料
            // 注意：Google Apps Script 跨網域呼叫需要設定 mode: 'no-cors'
            // 這表示我們無法讀取回傳的 JSON 結果 (response type 為 opaque)，但資料仍會成功送出
            fetch(scriptURL, { 
                method: 'POST', 
                body: new FormData(form),
                mode: 'no-cors'
            })
            .then(response => {
                console.log('Request sent', response);
                // Success State
                // 在 no-cors 模式下，只要沒有發生網路錯誤，就會進到這裡
                btn.innerHTML = '<i class="fas fa-check-circle"></i> 報名成功！';
                btn.classList.remove('bg-morandi-primary', 'hover:bg-[#687985]');
                btn.classList.add('bg-morandi-green', 'hover:bg-morandi-green');
                
                showToast('toast'); // Success Toast
                
                // Reset after 3 seconds
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.add('bg-morandi-primary', 'hover:bg-[#687985]');
                    btn.classList.remove('bg-morandi-green', 'hover:bg-morandi-green', 'opacity-75', 'cursor-not-allowed');
                    btn.disabled = false;
                    form.reset();
                    
                    // Reset styling for radio buttons
                    document.querySelectorAll('input[type="radio"]').forEach(r => {
                        const labelDiv = r.nextElementSibling;
                        if(labelDiv) {
                            labelDiv.classList.remove('border-morandi-primary', 'bg-blue-50', 'text-morandi-primary', 'font-medium');
                            labelDiv.classList.add('border-gray-300');
                        }
                    });

                }, 3000);
            })
            .catch(error => {
                console.error('Error!', error.message);
                
                // Error State
                btn.innerHTML = '<i class="fas fa-times-circle"></i> 傳送失敗';
                btn.classList.remove('bg-morandi-primary');
                btn.classList.add('bg-red-500');
                
                showToast('toast-error'); // Error Toast

                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.add('bg-morandi-primary');
                    btn.classList.remove('bg-red-500', 'opacity-75', 'cursor-not-allowed');
                    btn.disabled = false;
                }, 3000);
            });
        });

        // Add subtle interaction to radio buttons
        const radios = document.querySelectorAll('input[type="radio"]');
        radios.forEach(radio => {
            radio.addEventListener('change', function() {
                // Find all sibling labels in the same container and reset style
                const name = this.name;
                document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
                    const labelDiv = r.nextElementSibling;
                    if(labelDiv) {
                        labelDiv.classList.remove('border-morandi-primary', 'bg-blue-50', 'text-morandi-primary', 'font-medium');
                        labelDiv.classList.add('border-gray-300');
                    }
                });
                
                // Style current checked
                const activeLabelDiv = this.nextElementSibling;
                if(activeLabelDiv) {
                    activeLabelDiv.classList.remove('border-gray-300');
                    activeLabelDiv.classList.add('border-morandi-primary', 'bg-blue-50', 'text-morandi-primary', 'font-medium');
                }
            });
        });
    </script>
</body>
</html>
